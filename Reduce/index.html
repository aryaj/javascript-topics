<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /*     function reduceFunc(arr) {
                const result = arr.reduce((prevVal, currVal, currIndex, arr) => {
                    console.log(prevVal, currVal)
                    const nextVal = prevVal + currVal;
                    return nextVal;
                }, 5);
                return result;
            }
    
            let arrVals = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]; 

        console.log(reduceFunc(arrVals)) */

        function reduceFunc(arr) {
            const seggregated = arr.reduce((prevVal, currVal, currIndex, arr) => {
                let floored = Math.floor(currVal);
                if (!prevVal[floored]) {
                    prevVal[floored] = []
                }
                prevVal[floored].push(currVal)
                return prevVal;
            }, {});
            return seggregated;
        }

        let arrVals = [1.1, 1.2, 1.3, 2.1, 2.2, 2.3, 3.1, 3.2, 3.3,];

        console.log(reduceFunc(arrVals));

        const asyncTask = function (time) {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve(`Completing ${time}`)
                }, 100 * time)
            })
        }

        const promises = [asyncTask(1), asyncTask(2), asyncTask(3), asyncTask(4), asyncTask(5)];

        const asyncSeriesExecuter = function (promises) {
            promises.reduce((acc, curr) => {
                return acc.then(() => {
                    // run the current promise
                    curr.then((val) => console.log(val))
                })
            }, Promise.resolve())
        };

        asyncSeriesExecuter(promises);

    </script>
</body>

</html>